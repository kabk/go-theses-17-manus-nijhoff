<!DOCTYPE html>
<html>
<head>
	<title>Control & Question</title>

<meta charset="utf-8">

<link rel="stylesheet" type="text/css" href="style.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

  <script src="js/rangy-core.js"></script>
  <script src="js/rangy-cssclassapplier.js"></script>
  
  <script>
    var cssApplier;
    window.onload = function() {
        rangy.init();
        cssApplier = rangy.createCssClassApplier("someClass", true); // true turns on normalization
    };
    $(function() {
      $(document).mouseup(function() {
        cssApplier.toggleSelection();
      });
    });
  </script>

<style type="text/css">code{white-space: pre;}
  .someClass { background: url(img/Selfcontrol.png) center 180px fixed no-repeat; }
</style>

</head>
<body>

<!-- SLOT MACHINE / TITLE PAGE -->

<div class="profiles">
  
  <div id="gonzo">
    <img class="avatar" src="https://spellchek.files.wordpress.com/2013/12/silhouette.jpg"/>
    <p class="slug">GON</p>
    <p class="description">Gonzo is in his mid twenties. Based in The Hague (NL), he dropped out of design school and a Computer Science college degree to work on his art. Child of a mother and father that are supportive of his life choices. He has a job working at an electronics store. Via a message board for app developers he met Optimo.</p>
  </div>

  <div id="renegade">
    <img class="avatar" src="https://spellchek.files.wordpress.com/2013/12/silhouette.jpg"/>
    <p class="slug">REN</p>
    <p class="description">She is the hardest one to reach. No one really knows who she is but she has been a moderator of the forum for more than 20 years now. It's known that The Renegade has worked as an engineer in the tech industry of the USA and that she's based in Berlin, with her partner Alex.
    </p>
  </div>

  <div id="optimo">
    <img class="avatar" src="https://spellchek.files.wordpress.com/2013/12/silhouette.jpg"/>
    <p class="slug">OPT</p>
    <p class="description">Optimo is a man, 32 years old. He lives and works in Amsterdam as a Human Resources manager for the public transport company of the city. In his spare time he enjoys going for a run or visiting galleries in the city. And most of all he likes to spend time on little programming projects. On the message board, Optimo and Gonzo also meet The Renegade.
    </p>
  </div>
  
</div>

<div class="landing">

    <div class="l">
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>            
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
    </div>

    <div class="m">
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
    </div>

    <div class="r">
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>
      <h1>N</h1>    
    </div>


</div>

<div class="icons">
  <div class="people">
    <img src="experiment/services/img/people.svg"/>
    <p class="notifications people">1</p>
  </div>
  <div class="quotes">
    <img src="experiment/services/img/quotes.svg"/>
    <p class="notifications quotes">4</p>
  </div>
  <div class="world">
    <img src="experiment/services/img/world.svg"/>
    <p class="notifications world">3</p>
  </div>
</div>

<div class="slot-machine-wrapper" style="display: none">

  <div class="tooltip">
    <img src="experiment/services/img/beepernub.png"/>
  </div>

  <div class="slot-machine">
    Life is pain, princess, anyone trying to tell you differently is trying to sell you something
  </div>

</div>

<div class="wrapper">
  <div id="title"></div>

  <div id="introduction"></div>

  <div id="chapter-1"></div>

  <div id="chapter-2"></div>

  <div id="chapter-3"></div>

  <div id="chapter-4"></div>
  
  <div id="chapter-5"></div>
  
  <div id="conclusion"></div>
</div>

<video autoplay="true" loop="true">
<source src="Chains/CHAIN.mp4" type="video/mp4">
</video>
<video autoplay="true" loop="true">
<source src="Chains/CHAIN_i1.mp4" type="video/mp4">
</video>
<video autoplay="true" loop="true">
<source src="Chains/CHAIN_i2.mp4" type="video/mp4">
</video>

<script type="text/javascript">

// A self playing slot machine that unlocks the characters of the play.
// Could go as far as only showing the text that is unlocked.

  $(document).ready(function(){

     var gonzo, optimo, renegade;

     console.log(gonzo,optimo,renegade);

     function scrollToElement(col, el, ms) {
      var speed = (ms) ? ms : 600;
      
      $(col).animate({
        scrollTop: -80 + $(el).offset().top 
      }, speed, "easeInOutCirc", function(){
        // finished spinning, if there is a winner, reveal profiles
        console.log( col +'finished spinning');
        if( gonzo === 1 ){
          $('#gonzo img').attr('src', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ9nVMlNEc_nu-BlGaZe-MUT02Ry6zjEr2MN7_gces0eS_gtCVg_ynYPhw').addClass('winner');
          $('#gonzo .description').show();
        } 
        if( optimo === 1 ){
          $('#optimo img').attr('src', 'https://pbs.twimg.com/profile_images/494501654926864384/w7zi0zhc.jpeg').addClass('winner');
          $('#optimo .description').show();
        } 
        if ( renegade === 1 ) {
          $('#renegade img').attr('src', 'http://downloadablesuicide.com/wp-content/uploads/2010/02/renegade-sarah-shepard.jpg').addClass('winner');
          $('#renegade .description').show();
        }
      });

    }

    randomInterval = function(min, max){
      return Math.floor(Math.random()*(max-min+1)+min);
    };

    setInterval(function(){

      setTimeout(function(){
        $('.landing h1').removeClass();
        let result1 = randomInterval(1, 42),
            result2 = randomInterval(1, 42),
            result3 = randomInterval(1, 42);

        scrollToElement('.l', 'h1:nth-child('+result1+')', randomInterval(2000,4000));
        scrollToElement('.m', 'h1:nth-child('+result2+')', randomInterval(3000,6000));
        scrollToElement('.r', 'h1:nth-child('+result3+')', randomInterval(5000,8000));

        //left
        if(result1 % 3 === 0){
          console.log('left: r');
        }
        if((result1 + 1) % 3 === 0){
          console.log('left: o');
        }
        if((result1 + 2) % 3 === 0){
          console.log('left: g');
        }

        //mid
        if((result2) % 3 === 0){
          console.log('mid: p');
        }
        if((result2 + 1) % 3 === 0){
          console.log('mid: o');
        }
        if((result2 + 2) % 3 === 0){
          console.log('mid: e');
        }        

        //right        
        if((result3) % 3 === 0){
          console.log('right: n');
        }
        if((result3 + 1) % 3 === 0){
          console.log('right: n');
        }
        if((result3 + 2) % 3 === 0){
          console.log('right: t');
        }


        // if REN
        if(result1 % 3 === 0 && (result2 + 2) % 3 === 0 && (((result3 + 1) % 3 === 0) || ((result3) % 3 === 0)) ){
          return optimo = 1;
        }

        // if OPT
        if((result1 + 1) % 3 === 0 && (result2) % 3 === 0 && (result3 + 2) % 3 === 0){
          return gonzo = 1;
        }        

        // if GON
        if((result1 + 2) % 3 === 0 && (result2 + 1) % 3 === 0 && (((result3 + 1) % 3 === 0) || ((result3) % 3 === 0)) ){
          return renegade = 1;
        }

      }, 1000);

        scrollToElement('.l', 'h1:nth-child(1)', 1500);
        scrollToElement('.m', 'h1:nth-child(1)', 1500);
        scrollToElement('.r', 'h1:nth-child(1)', 1500);

    }, 10000);

      scrollToElement('.l', 'h1:nth-child('+randomInterval(1,42)+')', 3000);
      scrollToElement('.m', 'h1:nth-child('+randomInterval(1,42)+')', 6000);
      scrollToElement('.r', 'h1:nth-child('+randomInterval(1,42)+')', 4000);






    // Load content

    $('#title').load('writings/html/all.html');

    $('.people').click(function(){
      $('.slot-machine-wrapper').show();
      $('.tooltip').removeClass().addClass('tooltip people');
    });

    $('.quotes').click(function(){
      $('.slot-machine-wrapper').show();
      $('.tooltip').removeClass().addClass('tooltip quotes');
    });

    $('.world').click(function(){
      $('.slot-machine-wrapper').show();
      $('.tooltip').removeClass().addClass('tooltip world');
    });

    // $('body').not('.slot-machine-wrapper').click(function(){
    //   console.log("tried to hide slot machine wrapper");
    //   $('.slot-machine-wrapper').hide();
    // })
      
  });
</script>

</body>
</html>