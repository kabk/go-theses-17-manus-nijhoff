<!DOCTYPE html>
<html>
<head>
	<title>Control & Question</title>

<meta charset="utf-8">

<link rel="stylesheet" type="text/css" href="style.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

  <script src="js/rangy-core.js"></script>
  <script src="js/rangy-cssclassapplier.js"></script>
  
  <script>
    var cssApplier;
    window.onload = function() {
        rangy.init();
        cssApplier = rangy.createCssClassApplier("someClass", true); // true turns on normalization
    };
    $(function() {
      $(document).mouseup(function() {
        cssApplier.toggleSelection();
      });
    });
  </script>

<style type="text/css">code{white-space: pre;}
  .someClass { background: url(img/Selfcontrol.png) center 180px fixed no-repeat; }
</style>

</head>
<body>

<!-- SLOT MACHINE / TITLE PAGE -->

<div class="landing">

    <div class="l">
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>            
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
      <h1>G</h1>
      <h1>O</h1>
      <h1>R</h1>
    </div>

    <div class="m">
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
      <h1>E</h1> 
      <h1>O</h1>
      <h1>P</h1>
    </div>

    <div class="r">
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>    
      <h1>N</h1>
      <h1>T</h1>
      <h1>N</h1>
      <h1>N</h1>    
    </div>


</div>

<div class="icons">
  <div class="people">
    <img src="experiment/services/img/people.svg"/>
    <p class="notifications people">1</p>
  </div>
  <div class="quotes">
    <img src="experiment/services/img/quotes.svg"/>
    <p class="notifications quotes">4</p>
  </div>
  <div class="world">
    <img src="experiment/services/img/world.svg"/>
    <p class="notifications world">3</p>
  </div>
</div>

<div class="slot-machine-wrapper" style="display: none">

  <div class="tooltip">
    <img src="experiment/services/img/beepernub.png"/>
  </div>

  <div class="slot-machine">
    Life is pain, princess, anyone trying to tell you differently is trying to sell you something
  </div>

</div>

<div class="wrapper">
  <div id="title"></div>

  <div id="introduction"></div>

  <div id="chapter-1"></div>

  <div id="chapter-2"></div>

  <div id="chapter-3"></div>

  <div id="chapter-4"></div>
  
  <div id="chapter-5"></div>
  
  <div id="conclusion"></div>
</div>

<video autoplay="true" loop="true">
<source src="Chains/CHAIN.mp4" type="video/mp4">
</video>
<video autoplay="true" loop="true">
<source src="Chains/CHAIN_i1.mp4" type="video/mp4">
</video>
<video autoplay="true" loop="true">
<source src="Chains/CHAIN_i2.mp4" type="video/mp4">
</video>

<script type="text/javascript">
  $(document).ready(function(){

     function scrollToElement(col, el, ms) {
      var speed = (ms) ? ms : 600;
      
      $(col).animate({
        scrollTop: 184 + $(el).offset().top 
      }, {
        duration: speed,
        easing: "easeInOutCirc"
      });

    }

    randomInterval = function(min, max){
      return Math.floor(Math.random()*(max-min+1)+min);
    };

    setInterval(function(){

      setTimeout(function(){
        let result1 = randomInterval(1, 42),
            result2 = randomInterval(1, 42),
            result3 = randomInterval(1, 42);

        scrollToElement('.l', 'h1:nth-child('+result1+')', randomInterval(2000,4000));
        scrollToElement('.m', 'h1:nth-child('+result2+')', randomInterval(3000,6000));
        scrollToElement('.r', 'h1:nth-child('+result3+')', randomInterval(5000,8000));

        //left
        if(result1 % 3 === 0){
          console.log('left: r');
        }
        if((result1 + 1) % 3 === 0){
          console.log('left: o');
        }
        if((result1 + 2) % 3 === 0){
          console.log('left: g');
        }

        //mid
        if((result2) % 3 === 0){
          console.log('mid: p');
        }
        if((result2 + 1) % 3 === 0){
          console.log('mid: o');
        }
        if((result2 + 2) % 3 === 0){
          console.log('mid: e');
        }        

        //right        
        if((result3) % 3 === 0){
          console.log('right: n');
        }
        if((result3 + 1) % 3 === 0){
          console.log('right: n');
        }
        if((result3 + 2) % 3 === 0){
          console.log('right: t');
        }

        // bCondition1 && (bCondition2 || bCondition3) == !(!bCondition1 || !bCondition2 && !bCondition3)


        // if REN
        if(result1 % 3 === 0 && (result2 + 2) % 3 === 0 && (((result3 + 1) % 3 === 0) || ((result3) % 3 === 0)) ){
          console.log('WINNER WINNER CHICKEN RENEGADE');
        }

        // if OPT
        if((result1 + 1) % 3 === 0 && (result2) % 3 === 0 && (result3 + 2) % 3 === 0){
          console.log('WINNER WINNER CHICKEN OPTIMO');
        }        

        // if GON
        if((result1 + 2) % 3 === 0 && (result2 + 1) % 3 === 0 && (((result3 + 1) % 3 === 0) || ((result3) % 3 === 0)) ){
          console.log('WINNER WINNER CHICKEN GONZO');
        }

      }, 1000);

        scrollToElement('.l', 'h1:nth-child(1)', 1000);
        scrollToElement('.m', 'h1:nth-child(1)', 1000);
        scrollToElement('.r', 'h1:nth-child(1)', 1000);

    }, 10000);

      scrollToElement('.l', 'h1:nth-child('+randomInterval(1,42)+')', 3000);
      scrollToElement('.m', 'h1:nth-child('+randomInterval(1,42)+')', 6000);
      scrollToElement('.r', 'h1:nth-child('+randomInterval(1,42)+')', 4000);

    // Load content

    $('#title').load('writings/html/all.html');

    $('.people').click(function(){
      $('.slot-machine-wrapper').show();
      $('.tooltip').removeClass().addClass('tooltip people');
    });

    $('.quotes').click(function(){
      $('.slot-machine-wrapper').show();
      $('.tooltip').removeClass().addClass('tooltip quotes');
    });

    $('.world').click(function(){
      $('.slot-machine-wrapper').show();
      $('.tooltip').removeClass().addClass('tooltip world');
    });

    // $('body').not('.slot-machine-wrapper').click(function(){
    //   console.log("tried to hide slot machine wrapper");
    //   $('.slot-machine-wrapper').hide();
    // })
      
  });
</script>

</body>
</html>